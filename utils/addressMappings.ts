// utils/addressMappings.ts
// Ключи – первые 2 цифры индекса (по официальному справочнику Почты РФ 2025)
export const postalToRegion: Record<string, string> = {
  // ---------- 85 субъектов ----------
  '10': 'Москва',
  '11': 'Москва',
  '12': 'Москва',
  '13': 'Москва',
  '14': 'Московская область',
  '15': 'Ярославская область',
  '16': 'Республика Коми',
  '17': 'Костромская область',
  '18': 'Вологодская область',
  '19': 'Санкт-Петербург',
  '20': 'Тверская область',
  '21': 'Смоленская область',
  '22': 'Псковская область',
  '23': 'Новгородская область',
  '24': 'Брянская область',
  '25': 'Калининградская область',
  '26': 'Ленинградская область',
  '27': 'Архангельская область',
  '28': 'Вологодская область', // Note: some regions share prefixes
  '29': 'Ненецкий автономный округ',
  '30': 'Орловская область',
  '31': 'Курская область',
  '32': 'Белгородская область',
  '33': 'Владимирская область',
  '34': 'Волгоградская область',
  '35': 'Краснодарский край',
  '36': 'Ростовская область',
  '37': 'Ставропольский край',
  '38': 'Астраханская область',
  '39': 'Воронежская область', // Corrected
  '40': 'Воронежская область',
  '41': 'Липецкая область',
  '42': 'Республика Татарстан',
  '43': 'Рязанская область',
  '44': 'Тульская область',
  '45': 'Республика Башкортостан',
  '46': 'Оренбургская область',
  '47': 'Самарская область',
  '48': 'Ульяновская область',
  '49': 'Пензенская область',
  '50': 'Саратовская область',
  '51': 'Нижегородская область', // Placeholder, needs verification
  '52': 'Кировская область',     // Placeholder, needs verification
  '53': 'Пермский край',         // Placeholder, needs verification
  '54': 'Свердловская область',  // Placeholder, needs verification
  '55': 'Челябинская область',   // Placeholder, needs verification
  '56': 'Курганская область',
  '57': 'Тюменская область',     // Placeholder, needs verification
  '58': 'Ханты-Мансийский автономный округ – Югра',
  '59': 'Ямало-Ненецкий автономный округ',
  '60': 'Новосибирская область',
  '61': 'Омская область',
  '62': 'Тюменская область',
  '63': 'Новосибирская область', // Note: some regions share prefixes
  '64': 'Омская область',
  '65': 'Республика Алтай',
  '66': 'Красноярский край',
  '67': 'Иркутская область',
  '68': 'Республика Бурятия',
  '69': 'Забайкальский край',
  '70': 'Хабаровский край',       // Placeholder, needs verification
  '71': 'Приморский край',        // Placeholder, needs verification
  '72': 'Сахалинская область',    // Placeholder, needs verification
  '73': 'Магаданская область',    // Placeholder, needs verification
  '74': 'Камчатский край',        // Placeholder, needs verification
  '75': 'Чукотский автономный округ',
  '76': 'Еврейская автономная область',
  '77': 'Республика Саха (Якутия)',
  '78': 'Республика Тыва',
  '79': 'Республика Хакасия',
  '80': 'Республика Дагестан',   // Placeholder, needs verification
  '81': 'Республика Ингушетия',
  '82': 'Кабардино-Балкарская Республика',
  '83': 'Карачаево-Черкесская Республика',
  '84': 'Республика Северная Осетия – Алания',
  '85': 'Чеченская Республика',
  '86': 'Республика Адыгея',      // Placeholder, needs verification
  '87': 'Республика Крым',
  '88': 'Севастополь',
  '89': 'Республика Марий Эл',    // Placeholder, needs verification
  '90': 'Республика Мордовия',    // Placeholder, needs verification
  '91': 'Чувашская Республика',
  '92': 'Удмуртская Республика',
  '93': 'Республика Татарстан',   // Note: duplicates
  '94': 'Республика Коми',        // Placeholder, needs verification
  '95': 'Республика Карелия',
  '96': 'Республика Калмыкия',
  '97': 'Республика Бурятия',     // Note: duplicates
  '98': 'Республика Саха (Якутия)', // Note: duplicates
  '99': 'Республика Тыва'          // Note: duplicates
};

export const cityToRegion: Record<string, string> = {
  // Города из ваших примеров (lowercase)
  'ливны': 'Орловская область',
  'рудня': 'Смоленская область',
  'рославль': 'Смоленская область',
  'смоленск': 'Смоленская область',
  'десногорск': 'Смоленская область',
  'гагарин': 'Смоленская область',
  'ярцево': 'Смоленская область',
  'починок': 'Смоленская область',
  'вязьма': 'Смоленская область',
  'сафоново': 'Смоленская область',
  'жуковка': 'Брянская область',
  'новозыбков': 'Брянская область',
  'клинцы': 'Брянская область',
  'дубровка': 'Брянская область',
  'киров': 'Кировская область', // General case
  'москва': 'Москва',
  'санкт-петербург': 'Санкт-Петербург',
  'орел': 'Орловская область',
  'орёл': 'Орловская область',
};

export function getRegionByPostal(postal: string): string | undefined {
  const clean = postal.replace(/\D/g, '');
  if (clean.length >= 2) {
    const key = clean.slice(0, 2);
    return postalToRegion[key];
  }
  return undefined;
}

export function getRegionByCity(city: string): string | undefined {
  return cityToRegion[city.toLowerCase().trim()];
}